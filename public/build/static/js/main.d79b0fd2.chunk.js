(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(25),i=n.n(a),r=(n(30),n(7)),o=n(3),l=n(12),j=n(9),b=n(4),u=n(0),d=s.a.createContext();function O(e){var t=e.children,n=Object(c.useState)(null),s=Object(b.a)(n,2),a=s[0],i=s[1],r=Object(c.useState)(!1),O=Object(b.a)(r,2),h=O[0],m=O[1],x=Object(c.useState)([]),g=Object(b.a)(x,2),p=g[0],f=g[1],v=Object(c.useState)([]),N=Object(b.a)(v,2),w=N[0],y=N[1],C=Object(o.l)();Object(c.useEffect)((function(){fetch("/me").then((function(e){return e.json()})).then((function(e){i(e),e.error?m(!1):(m(!0),S())}))}),[]);var S=function(){fetch("/blogs").then((function(e){return e.json()})).then((function(e){f(e)}))};return Object(u.jsx)(d.Provider,{value:{login:function(e){i(e),S(),m(!0)},logout:function(){i({}),f([]),m(!1)},signup:function(e){i(e),S(),m(!0)},loggedIn:h,user:a,setUser:i,blogs:p,setBlogs:f,addBlog:function(e){fetch("/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,content:e.content})}).then((function(e){e.ok?e.json().then((function(e){var t=[e].concat(Object(j.a)(p)),n=t.filter((function(t){return t.user.id===e.user.id})),c=Object(l.a)({},a);c.blogs=n,i(c),f(t),C("/blogs")})):e.json().then((function(e){y(e.errors)}))}))},errors:w,setErrors:y},children:t})}n(33);var h=function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("div",{className:"headerTitle",children:Object(u.jsx)("span",{className:"headerTitleLg",children:"BLOGGER'S DIGEST"})})})},m=function(){var e=Object(c.useContext)(d),t=e.loggedIn,n=e.user;return t?Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("p",{children:["Welcome ",n.username," to your Home Page"]}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:" To start reading blogs posted by your fellow bloggers, navigate to Blogs page."}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"Here you will be able to post comments on blogs written by our other users."}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"To write a new blog, edit, or delete a posted blog navigate to your Profile page."}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"For a list of all the blogs you have left a comment on navigate to Reviewed Blogs."})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("p",{children:"Welcome to Blogger's Digest."}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"To enjoy the features of this website create an account by navigating to Signup link."}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"If you are a returning user navigate to Login."}),Object(u.jsx)("br",{})]})},x=(n(34),function(){var e=Object(c.useContext)(d),t=e.user,n=e.logout,s=e.loggedIn,a=Object(o.l)();return s?Object(u.jsxs)("div",{className:"top",children:[Object(u.jsxs)("div",{className:"topLeft",children:[Object(u.jsx)("i",{className:"topIcon fa-brands fa-facebook"}),Object(u.jsx)("i",{className:"topIcon fa-brands fa-twitter"}),Object(u.jsx)("i",{className:"topIcon fa-brands fa-instagram"})]}),Object(u.jsx)("div",{className:"topCenter",children:Object(u.jsxs)("ul",{className:"topList",children:[Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/",className:"link",children:"Home"})}),Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/blogs",className:"link",children:"Blogs"})}),Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/profile",className:"link",children:"Profile"})}),Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/reviews",className:"link",children:"Commented Blogs"})})]})}),Object(u.jsxs)("div",{className:"topRight",children:[Object(u.jsxs)("li",{className:"topRightList",children:["Welcome ",t.username]}),Object(u.jsx)("li",{className:"logoutButton",children:Object(u.jsx)(r.b,{to:"/logout",className:"link",onClick:function(){fetch("/logout",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){n(),a("/")}))},children:"Logout"})})]})]}):Object(u.jsx)("div",{className:"topCenter",children:Object(u.jsxs)("ul",{className:"topList",children:[Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/login",className:"link",children:"Login"})}),Object(u.jsx)("li",{className:"topListItem",children:Object(u.jsx)(r.b,{to:"/signup",className:"link",children:"Signup"})})]})})}),g=(n(35),function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),r=i[0],l=i[1],j=Object(c.useState)([]),O=Object(b.a)(j,2),h=O[0],m=O[1],x=Object(c.useContext)(d).signup,g=Object(o.l)();return Object(u.jsxs)("div",{className:"signup",children:[Object(u.jsx)("span",{className:"signupTitle",children:"CREATE ACCOUNT"}),Object(u.jsxs)("form",{className:"signupForm",onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:r})}).then((function(e){return e.json()})).then((function(e){if(e.errors){s(""),l("");var t=e.errors.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}));m(t)}else x(e),g("/")}))},children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(u.jsx)("input",{type:"text",name:"username",id:"username",className:"signupInput",placeholder:"Choose a username..",value:n,onChange:function(e){return s(e.target.value)},autoFocus:!0}),Object(u.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",className:"signupInput",placeholder:"Choose a password..",value:r,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("input",{className:"signupButton",type:"submit",value:"Create Account"})]}),Object(u.jsx)("ul",{children:h})]})}),p={Accept:"application/json","Content-Type":"application/json"},f=(n(36),function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),r=i[0],l=i[1],j=Object(c.useState)([]),O=Object(b.a)(j,2),h=O[0],m=O[1],x=Object(c.useContext)(d).login,g=Object(o.l)();return Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("span",{className:"loginTitleLabel",children:"LOGIN"}),Object(u.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:p,body:JSON.stringify({username:n,password:r})}).then((function(e){return e.json()})).then((function(e){if(e.errors){s(""),l("");var t=e.errors.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}));m(t)}else x(e),g("/")}))},children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(u.jsx)("input",{type:"text",name:"username",id:"username",className:"loginInput",placeholder:"Enter your username..",value:n,onChange:function(e){return s(e.target.value)},autoFocus:!0}),Object(u.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",className:"loginInput",placeholder:"Enter your password..",value:r,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{className:"loginButton",children:"Login"})]}),Object(u.jsx)("ul",{children:h})]})}),v=(n(37),function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),r=i[0],o=i[1],l=Object(c.useContext)(d),j=l.addBlog,O=l.errors,h=l.setErrors;return Object(u.jsxs)("div",{className:"write",children:[Object(u.jsx)("div",{className:"bar error",children:O.length>0&&Object(u.jsx)("ul",{style:{color:"red"},children:O.map((function(e,t){return Object(u.jsx)("p",{children:e},t)}))})}),Object(u.jsxs)("form",{className:"writeForm",onSubmit:function(e){e.preventDefault(),j({title:n,content:r}),h("")},children:[Object(u.jsx)("div",{className:"writeFormGroup",children:Object(u.jsx)("input",{type:"text",id:"title",name:"title",placeholder:"Title",className:"writeInput",autoFocus:!0,value:n,onChange:function(e){return s(e.target.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{type:"text",id:"content",name:"content",placeholder:"Write your blog...",className:"writeInput writeText",value:r,onChange:function(e){return o(e.target.value)}})}),Object(u.jsx)("button",{className:"writeSubmit",children:"Publish"})]}),Object(u.jsx)("hr",{})]})}),N=(n(38),function(e){var t=e.blog;return Object(u.jsx)("div",{className:"blog",children:Object(u.jsxs)("div",{className:"blogInfo",children:[Object(u.jsx)(r.c,{style:{textDecoration:"none"},to:"/blogs/".concat(t.id),children:Object(u.jsx)("span",{className:"blogTitle",style:{textDecoration:"none"},children:t.title})}),Object(u.jsx)("p",{className:"blogContent",children:t.content})]})})}),w=(n(39),function(){var e=Object(c.useContext)(d),t=e.user,n=e.loggedIn,s=Object(c.useState)(!1),a=Object(b.a)(s,2),i=a[0],r=a[1];if(n){var o=t.blogs.map((function(e){return Object(u.jsx)(N,{blog:e},e.id)}));return Object(u.jsxs)("div",{className:"profile",children:[i?Object(u.jsx)(v,{}):Object(u.jsx)("div",{className:"singleBlogWrite",children:Object(u.jsx)("i",{className:"fa-regular fa-pen-to-square",onClick:function(){return r(!0)},children:"Write a Blog"})}),o]})}return Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),y=(n(40),function(e){var t=e.blog;return Object(c.useContext)(d).loggedIn?Object(u.jsx)("div",{className:"blog",children:Object(u.jsxs)("div",{className:"blogInfo",children:[Object(u.jsx)(r.c,{style:{textDecoration:"none"},to:"/blogs/".concat(t.id),children:Object(u.jsx)("span",{className:"blogTitle",children:t.title})}),Object(u.jsx)("p",{className:"blogContent",children:t.content}),Object(u.jsxs)("span",{className:"blogAuthor",children:["Written By: ",t.user.username]}),Object(u.jsx)("br",{})]})}):Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),C=(n(41),function(){var e=Object(c.useContext)(d),t=e.blogs;if(e.loggedIn){var n=t.map((function(e){return Object(u.jsx)(y,{blog:e},e.id)}));return Object(u.jsxs)("div",{className:"blogs",children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:n})]})}return Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),S=n(5),B=n.n(S),I=n(6),T=(n(42),function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),r=i[0],j=i[1],O=Object(c.useState)(""),h=Object(b.a)(O,2),m=h[0],x=h[1],g=Object(o.n)().id,p=Object(c.useContext)(d),f=p.setUser,v=p.setBlogs,N=p.user,w=p.loggedIn,y=Object(o.l)();Object(c.useEffect)((function(){fetch("/blogs/".concat(g)).then((function(e){return e.json()})).then((function(e){s(e.title),j(e.content)}))}),[g]);var C=function(){var e=Object(I.a)(B.a.mark((function e(t){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:n,content:r})},e.next=4,fetch("/blogs/".concat(g),c).then((function(e){e.ok?e.json().then((function(e){v((function(t){return t.map((function(t){return t.id===e.id?e:t}))}));var t=N.blogs.map((function(t){return t.id===e.id?e:t}));f((function(e){return Object(l.a)(Object(l.a)({},e),{},{blogs:t})})),x(""),y("/blogs/".concat(g))})):e.json().then((function(e){x(e.error)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return w?Object(u.jsxs)("div",{className:"write",children:[Object(u.jsxs)("div",{style:{color:"red"},children:[m.title&&Object(u.jsx)("p",{children:"Title ".concat(m.title)}),m.content&&m.content.map((function(e,t){return Object(u.jsx)("p",{children:"Content ".concat(e)},t)}))]}),Object(u.jsxs)("form",{className:"writeForm",onSubmit:C,children:[Object(u.jsxs)("div",{className:"writeFormGroup",children:[Object(u.jsx)("label",{htmlFor:"title"}),Object(u.jsx)("input",{type:"text",id:"title",name:"title",className:"writeInput",autoFocus:!0,value:n,onChange:function(e){return s(e.target.value)}})]})," ",Object(u.jsx)("br",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"content"}),Object(u.jsx)("textarea",{type:"text",id:"content",name:"content",className:"writeInput writeText",value:r,onChange:function(e){return j(e.target.value)}})]})," ",Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"writeSubmit",type:"submit",value:"Update Blog"})})]})]}):Object(u.jsx)("h3",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),F=(n(43),function(e){var t=e.addReview,n=Object(c.useState)(""),s=Object(b.a)(n,2),a=s[0],i=s[1],r=Object(c.useState)({}),l=Object(b.a)(r,2),j=l[0],O=l[1],h=Object(c.useContext)(d).loggedIn,m=Object(o.n)().id,x=function(){var e=Object(I.a)(B.a.mark((function e(n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/blogs/".concat(m,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({review:{comment:a}})}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t(e),i(""),O({})})).catch((function(e){return e.json().then((function(e){O(e.errors)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h?Object(u.jsxs)("form",{onSubmit:x,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("textarea",{type:"text",placeholder:"Write a comment...",className:"textArea",value:a,onChange:function(e){return i(e.target.value)}}),j.comment&&Object(u.jsxs)("ul",{style:{color:"red"},children:["Please ",j.comment]})]}),Object(u.jsx)("button",{type:"submit",onClick:x,disabled:!a,children:"Comment"})]}):Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),k=(n(44),function(){var e=Object(c.useContext)(d),t=e.user,n=e.setUser,s=e.setBlogs,a=e.loggedIn,i=Object(c.useState)({reviews:[]}),j=Object(b.a)(i,2),O=j[0],h=j[1],m=Object(o.n)().id,x=Object(o.l)();Object(c.useEffect)((function(){fetch("/blogs/".concat(m)).then((function(e){return e.json()})).then((function(e){h(e)}))}),[m]);var g=function(){var e=Object(I.a)(B.a.mark((function e(c){var a,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/blogs/".concat(c),{method:"DELETE"});case 2:a=t.blogs.filter((function(e){return e.id!==c})),(i=Object(l.a)({},t)).blogs=a,n(i),s((function(e){return e.filter((function(e){return e.id!==c}))})),x("/profile");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?t.id&&O.user&&t.id===O.user.id?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"singleBlog",children:Object(u.jsxs)("div",{className:"singleBlogWrapper",children:[Object(u.jsx)(r.c,{to:"/blogs/".concat(m,"/edit"),children:Object(u.jsx)("div",{className:"singleBlogEdit",children:Object(u.jsx)("i",{className:"singleBlogIcon fa-regular fa-pen-to-square",children:"Edit Blog"})})}),Object(u.jsx)("div",{className:"singleBlogDelete",children:Object(u.jsx)("i",{className:"singleBlogIcon fa-regular fa-trash-can",onClick:function(){return g(O.id)},children:"Delete Blog"})}),Object(u.jsx)(r.c,{to:"/blogs",children:Object(u.jsx)("div",{className:"singleBlogReturn",children:Object(u.jsx)("i",{className:"fa-solid fa-arrow-left",children:"Return"})})}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{className:"singleBlogTitle",children:O.title}),Object(u.jsx)("p",{className:"singleBlogContent",children:O.content})]})}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"comment",children:"Comments"}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"commentText",children:[Object(u.jsx)("br",{}),O.reviews.map((function(e){return Object(u.jsxs)("div",{className:"commentText",children:[Object(u.jsxs)("span",{className:"userReviewAuthor",children:[e.user.username,": "]}),Object(u.jsx)("span",{className:"userReviewComment",children:e.comment})]},e.id)}))]})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"singleBlog",children:[Object(u.jsx)(r.c,{to:"/blogs",children:Object(u.jsx)("div",{className:"singleBlogReturn",children:Object(u.jsx)("i",{className:"fa-solid fa-arrow-left",children:"Back to Blogs"})})}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{className:"singleBlogTitle",children:O.title}),Object(u.jsx)("p",{className:"singleBlogContent",children:O.content}),Object(u.jsx)("br",{})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(F,{addReview:function(e){h(e)}}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"comment",children:"Comments"}),Object(u.jsx)("br",{}),O.reviews.map((function(e,t){return Object(u.jsxs)("div",{className:"commentText",children:[Object(u.jsxs)("span",{className:"userReviewAuthor",children:[e.user.username,": "]}),Object(u.jsx)("span",{className:"userReviewComment",children:e.comment})]},t)}))]}):Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})}),L=(n(45),function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useContext)(d).loggedIn;return Object(c.useEffect)((function(){fetch("/reviews").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),a?Object(u.jsx)("div",{className:"reviews",children:Object(u.jsx)("div",{className:"reviewInfo",children:n.map((function(e){return Object(u.jsxs)("div",{className:"review",children:[Object(u.jsx)("p",{className:"blogReviewTitle",children:e.blog.title}),Object(u.jsx)("p",{className:"blogReviewContent",children:e.blog.content}),Object(u.jsxs)("p",{className:"reviewAuthor",children:["Comment: ",e.comment]}),Object(u.jsxs)("p",{className:"reviewAuthor",children:["Written By: ",e.user.username]}),Object(u.jsx)("br",{})]},e.id)}))})}):Object(u.jsx)("div",{style:{fontFamily:"Aboreto",color:"#b43a3a",lineHeight:10,padding:20},children:"Please log in to access this page"})});n(46);var P=function(e){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(r.a,{children:Object(u.jsxs)(O,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",element:Object(u.jsx)(m,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/signup",element:Object(u.jsx)(g,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/login",element:Object(u.jsx)(f,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/profile",element:Object(u.jsx)(w,{})}),Object(u.jsx)(o.a,{path:"/blogs",element:Object(u.jsx)(C,{})}),Object(u.jsx)(o.a,{path:"/blogs/:id/edit",element:Object(u.jsx)(T,{})}),Object(u.jsx)(o.a,{path:"/blogs/:id",element:Object(u.jsx)(k,{})}),Object(u.jsx)(o.a,{path:"/reviews",element:Object(u.jsx)(L,{})})]})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.d79b0fd2.chunk.js.map